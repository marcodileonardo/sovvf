<ng-template [ngIf]="dettaglioTipologia">
    <div class="text-center">
        <h4 class="font-weight-bold">
            {{ dettaglioTipologia?.descrizione }}
        </h4>
    </div>
</ng-template>
<div class="my-3">
    <button class="btn btn-block btn-no-hover btn-lg btn-danger"
            [disabled]="!tipologie">
        Visualizza P.O.S.
    </button>
</div>
<ngb-accordion [closeOthers]="true" activeIds="riepilogo-triage">
    <!-- RIEPILOGO TRIAGE -->
    <ngb-panel id="riepilogo-triage"
               [disabled]="!triageSummary">
        <ng-template ngbPanelTitle>
            <b>RIEPILOGO TRIAGE</b>
        </ng-template>
        <ng-template ngbPanelContent>
            <div *ngFor="let summary of triageSummary, let i = index">
                <div [class.mb-2]="i !== triageSummary.length -1">
                    <h5>{{ i + 1 }}. <b>{{ summary.domanda }}</b></h5>
                    <h5>Risposta: <b>{{ summary.risposta }}</b></h5>
                </div>
            </div>
            <div class="mt-3">
                <h5 class="text-danger">
                    <i class="fa fa-file-pdf-o mr-2"></i>
                    <b>Istruzioni Pre-Arrivo</b>
                </h5>
                <div class="px-3">
                    <ul class="list-group">
                        <li>Istruzione 1</li>
                        <li>Istruzione 2</li>
                    </ul>
                </div>
            </div>
            <div class="mt-3">
                <h5 class="text-danger">
                    <i class="fa fa-truck mr-2"></i>
                    <b>MEZZI CONSIGLIATI <span class="text-danger">( inserire contatore )</span></b>
                </h5>
                <div class="px-3">
                    <ul class="list-group font-xlarge">
                        <li *ngFor="let summary of triageSummary">
                            <div *ngFor="let genereMezzo of summary.generiMezzo; let i = index">
                                {{ genereMezzo }}
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </ng-template>
    </ngb-panel>
    <!-- NOTE NUE -->
    <ngb-panel id="note-nue"
               [disabled]="!schedaContatto">
        <ng-template ngbPanelTitle>
            <b>NOTE NUE</b>
        </ng-template>
        <ng-template ngbPanelContent>
            {{ schedaContatto?.dettaglio ? schedaContatto?.dettaglio : 'Nessuna Nota Disponibile' }}
        </ng-template>
    </ngb-panel>
    <!-- TODO: prevedere dettaglio se si preme su un codice intervento (modale con all'interno la sintesi richiesta) -->
    <!-- INTERVENTI IN PROSSIMITA' -->
    <ngb-panel id="interventi-prossimita"
               [disabled]="countInterventiProssimita <= 0 || interventiProssimita?.length <= 0">
        <ng-template ngbPanelTitle>
            <b>INTERVENTI IN PROSSIMITA' ({{ countInterventiProssimita ? countInterventiProssimita : 0 }})</b>
        </ng-template>
        <ng-template ngbPanelContent>
            <div *ngFor="let interventoProssimita of interventiProssimita">
                <b>{{ interventoProssimita?.codiceRichiesta ? interventoProssimita?.codiceRichiesta : interventoProssimita?.codice }}</b>
                - {{ interventoProssimita?.localita.indirizzo }}
                - {{ interventoProssimita?.richiedente.nominativo }}
            </div>
        </ng-template>
    </ngb-panel>
    <!-- TODO: INTERVENTI STESSA VIA -->
    <ngb-panel id="interventi-stessa-via" [disabled]="true">
        <ng-template ngbPanelTitle>
            <b>INTERVENTI NELLA STESSA VIA</b>
        </ng-template>
        <ng-template ngbPanelContent>
            <!-- TODO: inserire "INTERVENTI NELLA STESSA VIA" -->
        </ng-template>
    </ngb-panel>
    <!-- TODO: INTERVENTI CHIUSI CON STESSO INDIRIZZO -->
    <ngb-panel id="interventi-chiusi-stesso-indirizzo" [disabled]="true">
        <ng-template ngbPanelTitle>
            <b>INTERVENTI CHIUSI CON STESSO INDIRIZZO</b>
        </ng-template>
        <ng-template ngbPanelContent>
            <!-- TODO: inserire "INTERVENTI CHIUSI CON STESSO INDIRIZZO" -->
        </ng-template>
    </ngb-panel>
</ngb-accordion>
